<!doctype html><html lang=en-us><head><script async src="https://www.googletagmanager.com/gtag/js?id=G-D022F6NT2P"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag('js',new Date),gtag('config','G-D022F6NT2P')</script><script>(function(b,d,e,a,g){b[a]=b[a]||[],b[a].push({'gtm.start':(new Date).getTime(),event:'gtm.js'});var f=d.getElementsByTagName(e)[0],c=d.createElement(e),h=a!='dataLayer'?'&l='+a:'';c.async=!0,c.src='https://www.googletagmanager.com/gtm.js?id='+g+h,f.parentNode.insertBefore(c,f)})(window,document,'script','dataLayer','GTM-P72R45W')</script><meta charset=utf-8><meta http-equiv=x-ua-compatible content="ie=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><link rel=preload as=font href=https://koktlzz.github.io/fonts/vendor/jost/jost-v4-latin-regular.woff2 type=font/woff2 crossorigin><link rel=preload as=font href=https://koktlzz.github.io/fonts/vendor/jost/jost-v4-latin-700.woff2 type=font/woff2 crossorigin><link rel=preload as=font href=https://koktlzz.github.io/fonts/KaTeX_Main-Regular.woff2 type=font/woff2 crossorigin><link rel=preload as=font href=https://koktlzz.github.io/fonts/KaTeX_Math-Italic.woff2 type=font/woff2 crossorigin><link rel=stylesheet href=https://koktlzz.github.io/main.6fd70af9369bef8ad98be8ac549b09d4cc31a7751f59f66dd296a20fd0fa4ae07ec51aee16a7e125439572da86f49095224d7d27d5f3dab10a0fa43783ecd2e2.css integrity="sha512-b9cK+Tab74rZi+isVJsJ1Mwxp3UfWfZt0paiD9D6SuB+xRruFqfhJUOVctqG9JCVIk19J9Xz2rEKD6Q3g+zS4g==" crossorigin=anonymous><noscript><style>img.lazyload{display:none}</style></noscript><meta name=robots content="index, follow"><meta name=googlebot content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1"><meta name=bingbot content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1"><title>Pod 与 Namespace | Inspire Hub</title><meta name=description content><link rel=canonical href=https://koktlzz.github.io/kubernetes/kubernetes%E5%9F%BA%E7%A1%80/pod%E4%B8%8Enamespace/><meta property="og:locale" content="en_US"><meta property="og:type" content="article"><meta property="og:title" content="Pod 与 Namespace"><meta property="og:description" content="Pod 基本特性  Pod 是 Kubernetes 中的最小单位，由一个或一组容器组成。一个容器中运行一个进程，而一个 Pod 运行多个进程； 为实现亲密性应用，Pod 内部的容器共享网络和挂载卷，因此可以方便地实现多个应用间交互； 每一个 Pod 其实都具有两种不同的容器，一种是 Init 容器：在 Pod 启动时运行，主要用于初始化一些配置。另一种是 Pod 在 Running 状态时内部存活的应用容器，它们的主要作用是对外提供服务或者作为工作节点处理异步任务等； Pod 的生命周期短暂。  Spec 和 Status 以一个名为 busybox 的 Pod 为例：
apiVersion: v1 kind: Pod metadata: name: busybox labels: app: busybox spec: containers: - image: busybox command: - sleep - &#34;3600&#34; resources: requests: cpu: &#34;500m&#34; memory: &#34;512Mi&#34; limits: cpu: &#34;500m&#34; memory: &#34;512Mi&#34; imagePullPolicy: IfNotPresent name: busybox restartPolicy: Always Pod 的 Spec 指定了 Pod 中包含的容器以及容器的镜像、启动命令等信息，上述例子中还包括了镜像拉取策略、容器资源限制以及 Pod 重启策略。 而每一个 Pod 的 Status 包含了生命周期、当前服务状态、宿主机和 Pod 的 IP 地址以及其中内部所有容器的状态信息等："><meta property="og:url" content="https://koktlzz.github.io/kubernetes/kubernetes%E5%9F%BA%E7%A1%80/pod%E4%B8%8Enamespace/"><meta property="og:site_name" content="Inspire Hub"><meta property="article:published_time" content="2020-11-04T09:19:42+01:00"><meta property="article:modified_time" content="2020-11-04T09:19:42+01:00"><meta property="og:image" content="https://koktlzz.github.io/doks.png"><meta property="og:image:alt" content="Inspire Hub"><meta name=twitter:card content="summary_large_image"><meta name=twitter:site content="@getdoks"><meta name=twitter:creator content="@henkverlinde"><meta name=twitter:title content="Pod 与 Namespace"><meta name=twitter:description content><meta name=twitter:image content="https://koktlzz.github.io/doks.png"><meta name=twitter:image:alt content="Pod 与 Namespace"><script type=application/ld+json>{"@context":"https://schema.org","@graph":[{"@type":"Organization","@id":"https://koktlzz.github.io/#/schema/organization/1","name":"Doks","url":"https://koktlzz.github.io/","sameAs":["https://twitter.com/getdoks","https://github.com/h-enk/doks"],"logo":{"@type":"ImageObject","@id":"https://koktlzz.github.io/#/schema/image/1","url":"https://koktlzz.github.io/logo-doks.png","width":512,"height":512,"caption":"Doks"},"image":{"@id":"https://koktlzz.github.io/#/schema/image/1"}},{"@type":"WebSite","@id":"https://koktlzz.github.io/#/schema/website/1","url":"https://koktlzz.github.io/","name":"Inspire Hub","description":"","publisher":{"@id":"https://koktlzz.github.io/#/schema/organization/1"}},{"@type":"WebPage","@id":"https://koktlzz.github.io/kubernetes/kubernetes%E5%9F%BA%E7%A1%80/pod%E4%B8%8Enamespace/","url":"https://koktlzz.github.io/kubernetes/kubernetes%E5%9F%BA%E7%A1%80/pod%E4%B8%8Enamespace/","name":"Pod 与 Namespace","description":"","isPartOf":{"@id":"https://koktlzz.github.io/#/schema/website/1"},"about":{"@id":"https://koktlzz.github.io/#/schema/organization/1"},"datePublished":"2020-11-04T09:19:42CET","dateModified":"2020-11-04T09:19:42CET","breadcrumb":{"@id":"https://koktlzz.github.io/kubernetes/kubernetes%E5%9F%BA%E7%A1%80/pod%E4%B8%8Enamespace/#/schema/breadcrumb/1"},"primaryImageOfPage":{"@id":"https://koktlzz.github.io/kubernetes/kubernetes%E5%9F%BA%E7%A1%80/pod%E4%B8%8Enamespace/#/schema/image/2"},"inLanguage":"en-US","potentialAction":[{"@type":"ReadAction","target":["https://koktlzz.github.io/kubernetes/kubernetes%E5%9F%BA%E7%A1%80/pod%E4%B8%8Enamespace/"]}]},{"@type":"BreadcrumbList","@id":"https://koktlzz.github.io/kubernetes/kubernetes%E5%9F%BA%E7%A1%80/pod%E4%B8%8Enamespace/#/schema/breadcrumb/1","name":"Breadcrumbs","itemListElement":[{"@type":"ListItem","position":1,"item":{"@type":"WebPage","@id":"https://koktlzz.github.io/","url":"https://koktlzz.github.io/","name":"Home"}},{"@type":"ListItem","position":2,"item":{"@type":"WebPage","@id":"https://koktlzz.github.io/kubernetes/","url":"https://koktlzz.github.io/kubernetes/","name":"Kubernetes"}},{"@type":"ListItem","position":3,"item":{"@type":"WebPage","@id":"https://koktlzz.github.io/kubernetes/kubernetes%E5%9F%BA%E7%A1%80/","url":"https://koktlzz.github.io/kubernetes/kubernetes%E5%9F%BA%E7%A1%80/","name":"Kubernetes% E5%9 F% Ba% E7% A1%80"}},{"@type":"ListItem","position":4,"item":{"@id":"https://koktlzz.github.io/kubernetes/kubernetes%E5%9F%BA%E7%A1%80/pod%E4%B8%8Enamespace/"}}]},{"@context":"https://schema.org","@graph":[{"@type":"ImageObject","@id":"https://koktlzz.github.io/kubernetes/kubernetes%E5%9F%BA%E7%A1%80/pod%E4%B8%8Enamespace/#/schema/image/2","url":"https://koktlzz.github.io/doks.png","contentUrl":"https://koktlzz.github.io/doks.png","caption":"Pod 与 Namespace"}]}]}</script><meta name=theme-color content="#fff"><link rel=apple-touch-icon sizes=180x180 href=https://koktlzz.github.io/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=https://koktlzz.github.io/favicon-32x32.ico><link rel=icon type=image/png sizes=16x16 href=https://koktlzz.github.io/favicon-16x16.ico><link rel=manifest crossorigin=use-credentials href=https://koktlzz.github.io/site.webmanifest></head><body class="Kubernetes single"><noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-P72R45W" height=0 width=0 style=display:none;visibility:hidden></iframe></noscript><div class="header-bar fixed-top"></div><header class="navbar fixed-top navbar-expand-md navbar-light"><div class=container-fluid><input class="menu-btn order-0" type=checkbox id=menu-btn>
<label class="menu-icon d-md-none" for=menu-btn><span class=navicon></span></label><a class="navbar-brand order-1 order-md-0 me-auto" href=https://koktlzz.github.io/>Inspire Hub</a>
<button id=mode class="btn btn-link order-2 order-md-4" type=button aria-label="Toggle mode">
<span class=toggle-dark><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-moon"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg></span><span class=toggle-light><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-sun"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></span></button><ul class="navbar-nav social-nav order-3 order-md-5"><li class=nav-item><a class=nav-link href=https://github.com/koktlzz><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-github"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37.0 00-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44.0 0020 4.77 5.07 5.07.0 0019.91 1S18.73.65 16 2.48a13.38 13.38.0 00-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07.0 005 4.77 5.44 5.44.0 003.5 8.55c0 5.42 3.3 6.61 6.44 7A3.37 3.37.0 009 18.13V22"/></svg><span class="ms-2 visually-hidden">GitHub</span></a></li></ul><div class="collapse navbar-collapse order-4 order-md-1"><ul class="navbar-nav main-nav me-auto order-5 order-md-2"><li class=nav-item><a class=nav-link href=https://koktlzz.github.io/docker/docker%E5%9F%BA%E7%A1%80/intro>Docker</a></li><li class=nav-item><a class=nav-link href=https://koktlzz.github.io/kubernetes/kubernetes%E5%9F%BA%E7%A1%80/intro>Kubernetes</a></li><li class=nav-item><a class=nav-link href=https://koktlzz.github.io/elastic/elasticstack/intro>Elastic</a></li><li class=nav-item><a class=nav-link href=https://koktlzz.github.io/go/go%E5%9F%BA%E7%A1%80/intro>Go</a></li><li class=nav-item><a class=nav-link href=https://koktlzz.github.io/infra/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80/tcpip%E7%BD%91%E7%BB%9C%E6%A8%A1%E5%9E%8B>Infra</a></li></ul><div class="break order-6 d-md-none"></div><form class="navbar-form flex-grow-1 order-7 order-md-3"><input id=userinput class="form-control is-search" type=search placeholder="Search docs..." aria-label="Search docs..." autocomplete=off><div id=suggestions class="shadow bg-white rounded"></div></form></div></div></header><div class="wrap container-fluid" role=document><div class=content><div class="row flex-xl-nowrap"><div class="col-lg-3 col-xl-2 d-none d-xl-block"><nav class=docs-links aria-label="Main navigation"><h3>Kubernetes 基础</h3><ul class=list-unstyled><li><a class=docs-link href=https://koktlzz.github.io/kubernetes/kubernetes%E5%9F%BA%E7%A1%80/intro/>Get Started</a></li><li><a class=docs-link href=https://koktlzz.github.io/kubernetes/kubernetes%E5%9F%BA%E7%A1%80/infrastructure/>Infrastructure</a></li><li><a class=docs-link href=https://koktlzz.github.io/kubernetes/kubernetes%E5%9F%BA%E7%A1%80/pod%E4%B8%8Enamespace/>Pod 与 Namespace</a></li><li><a class=docs-link href=https://koktlzz.github.io/kubernetes/kubernetes%E5%9F%BA%E7%A1%80/service/>Service</a></li><li><a class=docs-link href=https://koktlzz.github.io/kubernetes/kubernetes%E5%9F%BA%E7%A1%80/volume/>Volume</a></li><li><a class=docs-link href=https://koktlzz.github.io/kubernetes/kubernetes%E5%9F%BA%E7%A1%80/workloads/>Workloads</a></li></ul><h3>Kubernetes 进阶</h3><ul class=list-unstyled><li><a class=docs-link href=https://koktlzz.github.io/kubernetes/kubernetes%E8%BF%9B%E9%98%B6/networkpolicy/>Network Policy</a></li><li><a class=docs-link href=https://koktlzz.github.io/kubernetes/kubernetes%E8%BF%9B%E9%98%B6/ingress/>Ingress</a></li><li><a class=docs-link href=https://koktlzz.github.io/kubernetes/kubernetes%E8%BF%9B%E9%98%B6/sdn/>SDN</a></li><li><a class=docs-link href=https://koktlzz.github.io/kubernetes/kubernetes%E8%BF%9B%E9%98%B6/openvswitch/>Open vSwitch</a></li></ul></nav></div><main class="docs-content col-lg-13 col-xl-11"><h1>Pod 与 Namespace</h1><p class=lead></p><h2 id=pod>Pod<a href=#pod class=anchor aria-hidden=true>#</a></h2><h3 id=基本特性>基本特性<a href=#基本特性 class=anchor aria-hidden=true>#</a></h3><ul><li>Pod 是 Kubernetes 中的最小单位，由一个或一组容器组成。一个容器中运行一个进程，而一个 Pod 运行多个进程；</li><li>为实现亲密性应用，Pod 内部的容器共享网络和挂载卷，因此可以方便地实现多个应用间交互；</li><li>每一个 Pod 其实都具有两种不同的容器，一种是 Init 容器：在 Pod 启动时运行，主要用于初始化一些配置。另一种是 Pod 在 Running 状态时内部存活的应用容器，它们的主要作用是对外提供服务或者作为工作节点处理异步任务等；</li><li>Pod 的生命周期短暂。</li></ul><h3 id=spec-和-status>Spec 和 Status<a href=#spec-和-status class=anchor aria-hidden=true>#</a></h3><p>以一个名为 busybox 的 Pod 为例：</p><div class=highlight><pre style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=color:#ff79c6>apiVersion</span>: v1
<span style=color:#ff79c6>kind</span>: Pod
<span style=color:#ff79c6>metadata</span>:
  <span style=color:#ff79c6>name</span>: busybox
  <span style=color:#ff79c6>labels</span>:
    <span style=color:#ff79c6>app</span>: busybox
<span style=color:#ff79c6>spec</span>:
  <span style=color:#ff79c6>containers</span>:
  - <span style=color:#ff79c6>image</span>: busybox
    <span style=color:#ff79c6>command</span>:
      - sleep
      - <span style=color:#f1fa8c>&#34;3600&#34;</span>
    <span style=color:#ff79c6>resources</span>:
      <span style=color:#ff79c6>requests</span>:
        <span style=color:#ff79c6>cpu</span>: <span style=color:#f1fa8c>&#34;500m&#34;</span>
        <span style=color:#ff79c6>memory</span>: <span style=color:#f1fa8c>&#34;512Mi&#34;</span>
      <span style=color:#ff79c6>limits</span>:
        <span style=color:#ff79c6>cpu</span>: <span style=color:#f1fa8c>&#34;500m&#34;</span>
        <span style=color:#ff79c6>memory</span>: <span style=color:#f1fa8c>&#34;512Mi&#34;</span>
    <span style=color:#ff79c6>imagePullPolicy</span>: IfNotPresent
    <span style=color:#ff79c6>name</span>: busybox
  <span style=color:#ff79c6>restartPolicy</span>: Always
</code></pre></div><p>Pod 的 Spec 指定了 Pod 中包含的容器以及容器的镜像、启动命令等信息，上述例子中还包括了镜像拉取策略、容器资源限制以及 Pod 重启策略。
而每一个 Pod 的 Status 包含了生命周期、当前服务状态、宿主机和 Pod 的 IP 地址以及其中内部所有容器的状态信息等：</p><div class=highlight><pre style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=color:#ff79c6>status</span>:
  <span style=color:#ff79c6>conditions</span>:
  - <span style=color:#ff79c6>lastProbeTime</span>: <span style=color:#ff79c6>null</span>
    <span style=color:#ff79c6>lastTransitionTime</span>: 2018-12-09T02:40:37Z
    <span style=color:#ff79c6>status</span>: <span style=color:#f1fa8c>&#34;True&#34;</span>
    <span style=color:#ff79c6>type</span>: Initialized
  <span style=color:#ff79c6>containerStatuses</span>:
  - <span style=color:#ff79c6>containerID</span>: docker://99f668a89db97342d7bd603471dfad5be262d7708b48cb6c5c8e374e9a13cf4f
    <span style=color:#ff79c6>image</span>: busybox:latest
    <span style=color:#ff79c6>imageID</span>: docker-pullable://busybox@sha256:915f390a8912e16d4beb8689720a17348f3f6d1a7b659697df850ab625ea29d5
    <span style=color:#ff79c6>lastState</span>: {}
    <span style=color:#ff79c6>name</span>: busybox
    <span style=color:#ff79c6>ready</span>: <span style=color:#ff79c6>true</span>
    <span style=color:#ff79c6>restartCount</span>: <span style=color:#bd93f9>0</span>
    <span style=color:#ff79c6>state</span>:
      <span style=color:#ff79c6>running</span>:
        <span style=color:#ff79c6>startedAt</span>: 2018-12-09T02:40:37Z
  <span style=color:#ff79c6>hostIP</span>: <span style=color:#bd93f9>10.128.0.18</span>
  <span style=color:#ff79c6>phase</span>: Running
  <span style=color:#ff79c6>podIP</span>: <span style=color:#bd93f9>10.4.0.28</span>
  <span style=color:#6272a4># ...</span>
</code></pre></div><h3 id=共享网络>共享网络<a href=#共享网络 class=anchor aria-hidden=true>#</a></h3><p><img src=https://cdn.jsdelivr.net/gh/koktlzz/ImgBed@master/demo.001.jpeg.001.jpeg.001.jpeg alt=demo.001.jpeg.001.jpeg.001></p><ul><li>Pod 在启动时会创建一个网络设备，即 Pause 容器，它会为 Pod 创建一个 <a href=https://koktlzz.github.io/docker/docker%E6%A0%B8%E5%BF%83%E5%8E%9F%E7%90%86/namespace%E9%9A%94%E7%A6%BB/#network>Network namespace</a>；</li><li>Pod 中的其他容器（如图中的 CTR1、CTR2）在启动时使用系统调用 [setns()](/docker/docker 核心原理/namespace 隔离/#setns) 加入 Pause 容器的 Network namespace 中，因此能够通过 localhost 互相访问彼此暴露的端口和服务；</li><li>Kubenet 插件为每个节点创建 cbr0 网桥并为每一个 Pod 创建 veth 接口，从而实现 Pod Network namespace 与 Root Network namespace 之间的通信。</li></ul><h3 id=共享存储>共享存储<a href=#共享存储 class=anchor aria-hidden=true>#</a></h3><ul><li>一个 Pod 可以设置一组共享的存储卷（Volume），Pod 中的所有容器都可以访问该共享卷，从而允许这些容器共享数据；</li><li>Volume 还允许 Pod 中的持久化数据保留下来，即使其中的容器需要重新启动；</li><li>在当前 Pod 出现故障或者滚动更新时，对应 Volume 中的数据并不会被清除，而是会在 Pod 重启后重新挂载到期望的文件目录中；</li><li>卷的挂载是 Pod 启动之前必须要完成的工作。</li></ul><h3 id=生命周期>生命周期<a href=#生命周期 class=anchor aria-hidden=true>#</a></h3><image src=https://cdn.jsdelivr.net/gh/koktlzz/ImgBed@master/20210130011905.png width=80%><ul><li>Pod 的状态有：Pending、Running、Succeeded、Failed 和 Unkown，容器的状态有：Waiting、Running 和 Terminated；</li><li>Pod 遵循一个预定义的生命周期，起始于 Pending 阶段，如果至少其中有一个应用容器正常启动，则进入 Running 阶段。如果 Pod 中的容器均成功正常退出，则 Pod 为 Succeeded 状态。若 Pod 中的容器均已退出但至少有一个容器因为发生错误而退出，则 Pod 为 Failed 状态；</li><li>任何给定的 Pod（由 UID 定义）从不会被“重新调度（rescheduled）”到不同的节点。相反，这一 Pod 可以被一个新的、几乎完全相同的 Pod 替换掉。如果需要，新 Pod 的名字可以不变，但是其 UID 会不同；</li><li>一个 Pod 的完整生命周期经历：Create -> Probe -> Running -> Shutdown -> Restart。</li></ul><h4 id=create>Create<a href=#create class=anchor aria-hidden=true>#</a></h4><p>Pod 启动前由 Init 容器来完成一些初始化操作。初始化完毕后，Init 容器运行至 Terminated，应用容器启动。在应用容器启动后可以执行一些特定的指令，称为启动后钩子 (PostStart)。Kubernetes 在管理容器时，将一直等到 PostStart 执行完成后，才会将容器的状态标记为 Running。</p><h4 id=probe>Probe<a href=#probe class=anchor aria-hidden=true>#</a></h4><p>如果我们配置了合适的健康检查方法和规则，那么就不会出现服务未启动就被打入流量或者长时间未响应依然没有重启等问题。因此，我们应当尽可能为每一个 Pod 添加 livenessProbe（存活检查）和 readinessProbe（就绪检查）。ProbeManager 会根据 Pod 的配置分别选择调用 Exec、HTTPGet 或 TCPSocket 三种不同的 Probe 方式。</p><h4 id=shutdown>Shutdown<a href=#shutdown class=anchor aria-hidden=true>#</a></h4><p>对于每一个容器来说，它们的停止有一下几个步骤：</p><ol><li>先从 Pod 的规格中计算出当前停止所需要的时间；</li><li>然后调用 PreStop 的钩子方法，让容器中的应用程序能够有时间完成一些未处理的操作；</li><li>随后调用远程的服务停止运行中的容器。</li></ol><h2 id=namespace>Namespace<a href=#namespace class=anchor aria-hidden=true>#</a></h2><h3 id=基本特性-1>基本特性<a href=#基本特性-1 class=anchor aria-hidden=true>#</a></h3><ul><li>Namespace 隔离各种资源，可以理解为 kubernetes 内部的虚拟集群组；</li><li>不同 Namespace 内的资源 Name 可以相同，相同 Namespace 内的同种资源则不可以；</li><li>Namespace 不能相互嵌套，每个 Kubernetes 资源只能在一个 Namespace 中；</li><li>默认的 Namespace：default, kube-system,kube-public。</li></ul><h3 id=kubectl-命令>kubectl 命令<a href=#kubectl-命令 class=anchor aria-hidden=true>#</a></h3><ul><li><p>查看所有 namespace：</p><div class=highlight><pre style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>kubectl get ns
</code></pre></div></li><li><p>查看指定 namespace 下的资源：</p><div class=highlight><pre style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>kubectl get &lt;resource&gt; -n &lt;namespace&gt;
</code></pre></div></li><li><p>查看所有 namespace 下的资源：</p><div class=highlight><pre style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>kubectl get &lt;resource&gt; --all-namespace<span style=color:#ff79c6>=</span><span style=color:#8be9fd;font-style:italic>true</span>
</code></pre></div></li><li><p>利用 Openshift 的 oc 命令切换 namespace：</p><div class=highlight><pre style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>oc project &lt;namespace&gt;
</code></pre></div></li></ul><p class=edit-page><a href=https://github.com/koktlzz/koktlzz.github.io/blob/master/content/Kubernetes/Kubernetes%e5%9f%ba%e7%a1%80/Pod%e4%b8%8eNamespace.md><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-edit-2"><path d="M17 3a2.828 2.828.0 114 4L7.5 20.5 2 22l1.5-5.5L17 3z"/></svg>Edit this page on GitHub</a></p><div class="docs-navigation d-flex justify-content-between"><a href=https://koktlzz.github.io/kubernetes/kubernetes%E5%9F%BA%E7%A1%80/infrastructure/><div class="card my-1"><div class="card-body py-2">&larr; Infrastructure</div></div></a><a class=ms-auto href=https://koktlzz.github.io/kubernetes/kubernetes%E5%9F%BA%E7%A1%80/service/><div class="card my-1"><div class="card-body py-2">Service &rarr;</div></div></a></div><script src=https://utteranc.es/client.js repo=koktlzz/koktlzz.github.io issue-term=pathname theme=photon-dark crossorigin=anonymous async></script></main><nav class="docs-toc d-none d-xl-block col-lg-3 col-xl-2" aria-label="Secondary navigation"><div class=page-links><h3>On this page</h3><nav id=TableOfContents><ul><li><a href=#pod>Pod</a><ul><li><a href=#基本特性>基本特性</a></li><li><a href=#spec-和-status>Spec 和 Status</a></li><li><a href=#共享网络>共享网络</a></li><li><a href=#共享存储>共享存储</a></li><li><a href=#生命周期>生命周期</a></li></ul></li><li><a href=#namespace>Namespace</a><ul><li><a href=#基本特性-1>基本特性</a></li><li><a href=#kubectl-命令>kubectl 命令</a></li></ul></li></ul></nav></div></nav></div></div></div><footer class="footer text-muted"><div class=container><div class=row><div class="col-lg-8 order-last order-lg-first"><ul class=list-inline><li class=list-inline-item></li></ul></div><div class="col-lg-8 order-first order-lg-last text-lg-end"><ul class=list-inline></ul></div></div></div></footer><script src=https://koktlzz.github.io/js/bootstrap.min.d67050adf5d370668aede4201f82af781b16970934804995a1ca37c1ee9222c2fc530972aa6d5d2b6124caf1fe318f139aac99df2c1e89af65504fc1185c7972.js integrity="sha512-1nBQrfXTcGaK7eQgH4KveBsWlwk0gEmVoco3we6SIsL8Uwlyqm1dK2EkyvH+MY8TmqyZ3yweia9lUE/BGFx5cg==" crossorigin=anonymous defer></script><script src=https://koktlzz.github.io/js/vendor/katex/dist/katex.min.b334e5b00c45f572e7f38a543046f36854bf4cbb543880480c09271a0efedc694d6905f719934f6ede2f26f52e80411c05b90121d722cbf8be2fa8fc51bc6b81.js integrity="sha512-szTlsAxF9XLn84pUMEbzaFS/TLtUOIBIDAknGg7+3GlNaQX3GZNPbt4vJvUugEEcBbkBIdciy/i+L6j8UbxrgQ==" crossorigin=anonymous defer></script><script src=https://koktlzz.github.io/js/vendor/katex/dist/contrib/auto-render.min.916823ec103cf367b71e28a6f01513cb9c3ac6708ccb5229402ec46b8e30a8b25003db694df35d80e9dd666a371f327c6152790617b6256390c164109a90bd4c.js integrity="sha512-kWgj7BA882e3Hiim8BUTy5w6xnCMy1IpQC7Ea44wqLJQA9tpTfNdgOndZmo3HzJ8YVJ5Bhe2JWOQwWQQmpC9TA==" crossorigin=anonymous defer></script><script src=https://koktlzz.github.io/main.min.f6e8faaea2ce6bb257f34da94268a7e539d1da8094519ef5a226be2646792c13b4b992b9c31c3f9ce3d3e4a39acbd7e88d9a46666014e9371baa755131320bca.js integrity="sha512-9uj6rqLOa7JX802pQmin5TnR2oCUUZ71oia+JkZ5LBO0uZK5wxw/nOPT5KOay9fojZpGZmAU6TcbqnVRMTILyg==" crossorigin=anonymous defer></script><script src=https://koktlzz.github.io/index.min.bc9d0cdd7fc7b444e89eeabd4981596119f6edd9f1d94c19eb112cbe44a272a177dffa9c9820a54e7eca47e67e3d3377a9a030c0569085f92565b915fcd317a0.js integrity="sha512-vJ0M3X/HtETonuq9SYFZYRn27dnx2UwZ6xEsvkSicqF33/qcmCClTn7KR+Z+PTN3qaAwwFaQhfklZbkV/NMXoA==" crossorigin=anonymous defer></script></body></html>