<!doctype html><html lang=en-us><head><script async src="https://www.googletagmanager.com/gtag/js?id=G-D022F6NT2P"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag('js',new Date),gtag('config','G-D022F6NT2P')</script><script>(function(b,d,e,a,g){b[a]=b[a]||[],b[a].push({'gtm.start':(new Date).getTime(),event:'gtm.js'});var f=d.getElementsByTagName(e)[0],c=d.createElement(e),h=a!='dataLayer'?'&l='+a:'';c.async=!0,c.src='https://www.googletagmanager.com/gtm.js?id='+g+h,f.parentNode.insertBefore(c,f)})(window,document,'script','dataLayer','GTM-P72R45W')</script><meta charset=utf-8><meta http-equiv=x-ua-compatible content="ie=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><link rel=preload as=font href=https://koktlzz.github.io/fonts/vendor/jost/jost-v4-latin-regular.woff2 type=font/woff2 crossorigin><link rel=preload as=font href=https://koktlzz.github.io/fonts/vendor/jost/jost-v4-latin-700.woff2 type=font/woff2 crossorigin><link rel=preload as=font href=https://koktlzz.github.io/fonts/KaTeX_Main-Regular.woff2 type=font/woff2 crossorigin><link rel=preload as=font href=https://koktlzz.github.io/fonts/KaTeX_Math-Italic.woff2 type=font/woff2 crossorigin><link rel=stylesheet href=https://koktlzz.github.io/main.0ae7165cfeda76c765ab05aa408a696be65779f1e277afd078efecc543cc00bb72be873f087e148ccf7ac1016b22c2d2586f058c7ee5d92dcca60206eae2dd99.css integrity="sha512-CucWXP7adsdlqwWqQIppa+ZXefHid6/QeO/sxUPMALtyvoc/CH4UjM96wQFrIsLSWG8FjH7l2S3MpgIG6uLdmQ==" crossorigin=anonymous><noscript><style>img.lazyload{display:none}</style></noscript><meta name=robots content="index, follow"><meta name=googlebot content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1"><meta name=bingbot content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1"><title>Infrastructure | Inspire Hub</title><meta name=description content><link rel=canonical href=https://koktlzz.github.io/kubernetes/kubernetes%E5%9F%BA%E7%A1%80/infrastructure/><meta property="og:locale" content="en_US"><meta property="og:type" content="article"><meta property="og:title" content="Infrastructure"><meta property="og:description" content="架构 基本特性  声明式：Kubernetes 中常用 yaml 文件定义服务和资源的拓扑结构和状态，它是一种声明式的编程方式，更加关注状态和结果。其实我们最常接触的是命令式编程，它要求我们描述为了达到某一个效果或者目标所需要完成的指令。常见的编程语言 Go、Ruby、C++ 以及我们使用的 kubectl 工具其实都属于命令式的编程方法； 显式接口：不存在内部的私有接口； 无侵入：每一个应用或者服务一旦被打包成了镜像就可以直接在 Kubernetes 中无缝使用，不需要修改应用程序中的任何代码； 可移植：支持有状态服务的迁移和持久化存储。  组件 Master 组件  etcd：保存了整个集群的状态； Api-server：负责处理来自用户的请求，其主要作用就是对外提供 RESTful 的接口。包括用于查看集群状态的读请求以及改变集群状态的写请求，也是唯一一个与 etcd 集群通信的组件； Controller-manager：运行了一系列的 Controller 进程，它们会按照用户的期望状态在后台不断地调节整个集群中的对象。当服务的状态发生了改变，控制器就会发现这个改变并且开始向目标状态迁移。每种资源都有其对应的 Controller； Scheduler：负责资源的调度，采用预算策略或优选策略将 Pod 调度到合适的节点上。  Node 组件  Kubelet：负责维持容器的生命周期，同时也负责 Volume（CVI）和网络（CNI）的管理。它周期性地从 API Server 获取 Pod 的 Spec，并确保容器处于运行状态且保持健康； Kube-proxy：负责为 Service 提供集群内部的服务发现和负载均衡； Container Runtime：负责运行容器的软件，如 Docker、CRI-O 以及所有实现 Kubernetes CRI（Container Runtime Interface）的应用。  Client 组件  kubeadm：部署工具，提供 kubeadm init 和 kubeadm join，用于快速部署 Kubernetes 集群； kubectl：用户或开发者使用的命令行工具。  插件 Addons  CoreDNS：负责为整个集群提供 DNS 服务； Ingress Controller：为 Service 提供从集群外部访问的入口； Heapster：提供资源监控； Dashboard：提供 GUI； Federation：提供跨可用区的集群； Fluentd/Elasticsearch：提供集群日志采集、存储与查询； Prometheus：提供集群的监控能力。  资源与对象  Kubernetes 中的所有内容都被抽象为“资源”，如 Pod、Service、Node 等都是资源。“对象”就是“资源”的实例，是持久化的实体。如某个具体的 Pod、某个具体的 Node。Kubernetes 使用这些实体去表示整个集群的状态。 对象的创建、删除、修改都是通过 Kubernetes API，也就是 Api Server 组件提供的 API 接口，这些是 RESTful 风格的 Api，与 k8s 的万物皆对象理念相符。命令行工具 kubectl，实际上也是调用 kubernetes api。 Kubernetes REST API 中的所有对象都用 Name 和 UID 来明确地标识。"><meta property="og:url" content="https://koktlzz.github.io/kubernetes/kubernetes%E5%9F%BA%E7%A1%80/infrastructure/"><meta property="og:site_name" content="Inspire Hub"><meta property="article:published_time" content="2020-11-04T09:19:42+01:00"><meta property="article:modified_time" content="2020-11-04T09:19:42+01:00"><meta property="og:image" content="https://koktlzz.github.io/doks.png"><meta property="og:image:alt" content="Inspire Hub"><meta name=twitter:card content="summary_large_image"><meta name=twitter:site content="@getdoks"><meta name=twitter:creator content="@henkverlinde"><meta name=twitter:title content="Infrastructure"><meta name=twitter:description content><meta name=twitter:image content="https://koktlzz.github.io/doks.png"><meta name=twitter:image:alt content="Infrastructure"><script type=application/ld+json>{"@context":"https://schema.org","@graph":[{"@type":"Organization","@id":"https://koktlzz.github.io/#/schema/organization/1","name":"Doks","url":"https://koktlzz.github.io/","sameAs":["https://twitter.com/getdoks","https://github.com/h-enk/doks"],"logo":{"@type":"ImageObject","@id":"https://koktlzz.github.io/#/schema/image/1","url":"https://koktlzz.github.io/logo-doks.png","width":512,"height":512,"caption":"Doks"},"image":{"@id":"https://koktlzz.github.io/#/schema/image/1"}},{"@type":"WebSite","@id":"https://koktlzz.github.io/#/schema/website/1","url":"https://koktlzz.github.io/","name":"Inspire Hub","description":"","publisher":{"@id":"https://koktlzz.github.io/#/schema/organization/1"}},{"@type":"WebPage","@id":"https://koktlzz.github.io/kubernetes/kubernetes%E5%9F%BA%E7%A1%80/infrastructure/","url":"https://koktlzz.github.io/kubernetes/kubernetes%E5%9F%BA%E7%A1%80/infrastructure/","name":"Infrastructure","description":"","isPartOf":{"@id":"https://koktlzz.github.io/#/schema/website/1"},"about":{"@id":"https://koktlzz.github.io/#/schema/organization/1"},"datePublished":"2020-11-04T09:19:42CET","dateModified":"2020-11-04T09:19:42CET","breadcrumb":{"@id":"https://koktlzz.github.io/kubernetes/kubernetes%E5%9F%BA%E7%A1%80/infrastructure/#/schema/breadcrumb/1"},"primaryImageOfPage":{"@id":"https://koktlzz.github.io/kubernetes/kubernetes%E5%9F%BA%E7%A1%80/infrastructure/#/schema/image/2"},"inLanguage":"en-US","potentialAction":[{"@type":"ReadAction","target":["https://koktlzz.github.io/kubernetes/kubernetes%E5%9F%BA%E7%A1%80/infrastructure/"]}]},{"@type":"BreadcrumbList","@id":"https://koktlzz.github.io/kubernetes/kubernetes%E5%9F%BA%E7%A1%80/infrastructure/#/schema/breadcrumb/1","name":"Breadcrumbs","itemListElement":[{"@type":"ListItem","position":1,"item":{"@type":"WebPage","@id":"https://koktlzz.github.io/","url":"https://koktlzz.github.io/","name":"Home"}},{"@type":"ListItem","position":2,"item":{"@type":"WebPage","@id":"https://koktlzz.github.io/kubernetes/","url":"https://koktlzz.github.io/kubernetes/","name":"Kubernetes"}},{"@type":"ListItem","position":3,"item":{"@type":"WebPage","@id":"https://koktlzz.github.io/kubernetes/kubernetes%E5%9F%BA%E7%A1%80/","url":"https://koktlzz.github.io/kubernetes/kubernetes%E5%9F%BA%E7%A1%80/","name":"Kubernetes% E5%9 F% Ba% E7% A1%80"}},{"@type":"ListItem","position":4,"item":{"@id":"https://koktlzz.github.io/kubernetes/kubernetes%E5%9F%BA%E7%A1%80/infrastructure/"}}]},{"@context":"https://schema.org","@graph":[{"@type":"ImageObject","@id":"https://koktlzz.github.io/kubernetes/kubernetes%E5%9F%BA%E7%A1%80/infrastructure/#/schema/image/2","url":"https://koktlzz.github.io/doks.png","contentUrl":"https://koktlzz.github.io/doks.png","caption":"Infrastructure"}]}]}</script><meta name=theme-color content="#fff"><link rel=apple-touch-icon sizes=180x180 href=https://koktlzz.github.io/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=https://koktlzz.github.io/favicon-32x32.ico><link rel=icon type=image/png sizes=16x16 href=https://koktlzz.github.io/favicon-16x16.ico><link rel=manifest crossorigin=use-credentials href=https://koktlzz.github.io/site.webmanifest></head><body class="Kubernetes single dark"><noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-P72R45W" height=0 width=0 style=display:none;visibility:hidden></iframe></noscript><div class="header-bar fixed-top"></div><header class="navbar fixed-top navbar-expand-md navbar-light"><div class=container-fluid><input class="menu-btn order-0" type=checkbox id=menu-btn>
<label class="menu-icon d-md-none" for=menu-btn><span class=navicon></span></label><a class="navbar-brand order-1 order-md-0 me-auto" href=https://koktlzz.github.io/>Inspire Hub</a>
<button id=mode class="btn btn-link order-2 order-md-4" type=button aria-label="Toggle mode">
<span class=toggle-dark><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-moon"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg></span><span class=toggle-light><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-sun"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></span></button><ul class="navbar-nav social-nav order-3 order-md-5"><li class=nav-item><a class=nav-link href=https://github.com/koktlzz><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-github"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37.0 00-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44.0 0020 4.77 5.07 5.07.0 0019.91 1S18.73.65 16 2.48a13.38 13.38.0 00-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07.0 005 4.77 5.44 5.44.0 003.5 8.55c0 5.42 3.3 6.61 6.44 7A3.37 3.37.0 009 18.13V22"/></svg><span class="ms-2 visually-hidden">GitHub</span></a></li></ul><div class="collapse navbar-collapse order-4 order-md-1"><ul class="navbar-nav main-nav me-auto order-5 order-md-2"><li class=nav-item><a class=nav-link href=https://koktlzz.github.io/docker/docker%E5%9F%BA%E7%A1%80/intro>Docker</a></li><li class=nav-item><a class=nav-link href=https://koktlzz.github.io/kubernetes/kubernetes%E5%9F%BA%E7%A1%80/intro>Kubernetes</a></li><li class=nav-item><a class=nav-link href=https://koktlzz.github.io/elastic/elasticstack/intro>Elastic</a></li><li class=nav-item><a class=nav-link href=https://koktlzz.github.io/go/go%E5%9F%BA%E7%A1%80/intro>Go</a></li><li class=nav-item><a class=nav-link href=https://koktlzz.github.io/infra/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80/tcpip%E7%BD%91%E7%BB%9C%E6%A8%A1%E5%9E%8B>Infra</a></li><li class=nav-item><a class=nav-link href=https://koktlzz.github.io/prometheus/prometheus/intro>Prometheus</a></li><li class=nav-item><a class=nav-link href=https://koktlzz.github.io/opentelemetry/opentelemetry/intro>Opentelemetry</a></li></ul><div class="break order-6 d-md-none"></div></div></div></header><div class="wrap container-fluid" role=document><div class=content><div class="row flex-xl-nowrap"><div class="col-lg-3 col-xl-2 d-none d-xl-block"><nav class=docs-links aria-label="Main navigation"><h3>Kubernetes 基础</h3><ul class=list-unstyled><li><a class=docs-link href=https://koktlzz.github.io/kubernetes/kubernetes%E5%9F%BA%E7%A1%80/intro/>Getting Started</a></li><li><a class=docs-link href=https://koktlzz.github.io/kubernetes/kubernetes%E5%9F%BA%E7%A1%80/infrastructure/>Infrastructure</a></li><li><a class=docs-link href=https://koktlzz.github.io/kubernetes/kubernetes%E5%9F%BA%E7%A1%80/pod%E4%B8%8Enamespace/>Pod 与 Namespace</a></li><li><a class=docs-link href=https://koktlzz.github.io/kubernetes/kubernetes%E5%9F%BA%E7%A1%80/service/>Service</a></li><li><a class=docs-link href=https://koktlzz.github.io/kubernetes/kubernetes%E5%9F%BA%E7%A1%80/volume/>Volume</a></li><li><a class=docs-link href=https://koktlzz.github.io/kubernetes/kubernetes%E5%9F%BA%E7%A1%80/workloads/>Workloads</a></li></ul><h3>Kubernetes 进阶</h3><ul class=list-unstyled><li><a class=docs-link href=https://koktlzz.github.io/kubernetes/kubernetes%E8%BF%9B%E9%98%B6/networkpolicy/>Network Policy</a></li><li><a class=docs-link href=https://koktlzz.github.io/kubernetes/kubernetes%E8%BF%9B%E9%98%B6/ingress/>Ingress</a></li><li><a class=docs-link href=https://koktlzz.github.io/kubernetes/kubernetes%E8%BF%9B%E9%98%B6/sdn/>SDN</a></li><li><a class=docs-link href=https://koktlzz.github.io/kubernetes/kubernetes%E8%BF%9B%E9%98%B6/openvswitch/>Open vSwitch</a></li></ul></nav></div><main class="docs-content col-lg-13 col-xl-11"><h1>Infrastructure</h1><p class=lead></p><h2 id=架构>架构<a href=#架构 class=anchor aria-hidden=true>#</a></h2><p><img src=https://cdn.jsdelivr.net/gh/koktlzz/ImgBed@master/202105062142.jpeg alt=202105062142></p><h2 id=基本特性>基本特性<a href=#基本特性 class=anchor aria-hidden=true>#</a></h2><ul><li>声明式：Kubernetes 中常用 yaml 文件定义服务和资源的拓扑结构和状态，它是一种声明式的编程方式，更加关注状态和结果。其实我们最常接触的是命令式编程，它要求我们描述为了达到某一个效果或者目标所需要完成的指令。常见的编程语言 Go、Ruby、C++ 以及我们使用的 kubectl 工具其实都属于命令式的编程方法；</li><li>显式接口：不存在内部的私有接口；</li><li>无侵入：每一个应用或者服务一旦被打包成了镜像就可以直接在 Kubernetes 中无缝使用，不需要修改应用程序中的任何代码；</li><li>可移植：支持有状态服务的迁移和持久化存储。</li></ul><h2 id=组件>组件<a href=#组件 class=anchor aria-hidden=true>#</a></h2><h3 id=master-组件>Master 组件<a href=#master-组件 class=anchor aria-hidden=true>#</a></h3><ul><li>etcd：保存了整个集群的状态；</li><li>Api-server：负责处理来自用户的请求，其主要作用就是对外提供 RESTful 的接口。包括用于查看集群状态的读请求以及改变集群状态的写请求，也是唯一一个与 etcd 集群通信的组件；</li><li>Controller-manager：运行了一系列的 Controller 进程，它们会按照用户的期望状态在后台不断地调节整个集群中的对象。当服务的状态发生了改变，控制器就会发现这个改变并且开始向目标状态迁移。每种资源都有其对应的 Controller；</li><li>Scheduler：负责资源的调度，采用预算策略或优选策略将 Pod 调度到合适的节点上。</li></ul><h3 id=node-组件>Node 组件<a href=#node-组件 class=anchor aria-hidden=true>#</a></h3><ul><li>Kubelet：负责维持容器的生命周期，同时也负责 Volume（CVI）和网络（CNI）的管理。它周期性地从 API Server 获取 Pod 的 Spec，并确保容器处于运行状态且保持健康；</li><li>Kube-proxy：负责为 Service 提供集群内部的服务发现和负载均衡；</li><li>Container Runtime：负责运行容器的软件，如 Docker、CRI-O 以及所有实现 Kubernetes CRI（Container Runtime Interface）的应用。</li></ul><h3 id=client-组件>Client 组件<a href=#client-组件 class=anchor aria-hidden=true>#</a></h3><ul><li>kubeadm：部署工具，提供 <strong>kubeadm init</strong> 和 <strong>kubeadm join</strong>，用于快速部署 Kubernetes 集群；</li><li>kubectl：用户或开发者使用的命令行工具。</li></ul><h3 id=插件-addons>插件 Addons<a href=#插件-addons class=anchor aria-hidden=true>#</a></h3><ul><li>CoreDNS：负责为整个集群提供 DNS 服务；</li><li>Ingress Controller：为 Service 提供从集群外部访问的入口；</li><li>Heapster：提供资源监控；</li><li>Dashboard：提供 GUI；</li><li>Federation：提供跨可用区的集群；</li><li>Fluentd/Elasticsearch：提供集群日志采集、存储与查询；</li><li>Prometheus：提供集群的监控能力。</li></ul><h2 id=资源与对象>资源与对象<a href=#资源与对象 class=anchor aria-hidden=true>#</a></h2><blockquote><p>Kubernetes 中的所有内容都被抽象为“资源”，如 Pod、Service、Node 等都是资源。“对象”就是“资源”的实例，是持久化的实体。如某个具体的 Pod、某个具体的 Node。Kubernetes 使用这些实体去表示整个集群的状态。
对象的创建、删除、修改都是通过 Kubernetes API，也就是 Api Server 组件提供的 API 接口，这些是 RESTful 风格的 Api，与 k8s 的<strong>万物皆对象</strong>理念相符。命令行工具 kubectl，实际上也是调用 kubernetes api。
Kubernetes REST API 中的所有对象都用 Name 和 UID 来明确地标识。</p></blockquote><p>常见的资源配置信息有：</p><ul><li>apiVersion：api 版本</li><li>kind：类别</li><li>metadata：元数据，包含了资源的 Name, UID 和 Label 等</li><li>spec：规格</li><li>status：状态</li></ul><p>使用 <strong>kubectl get &lt;resource> -o yaml</strong> 命令即可在标准输出中看到某一种资源的 yaml 配置信息，如：</p><div class=highlight><pre style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml>- <span style=color:#ff79c6>apiVersion</span>: v1
  <span style=color:#ff79c6>kind</span>: Pod
  <span style=color:#ff79c6>metadata</span>:
    <span style=color:#ff79c6>annotations</span>:
      <span style=color:#ff79c6>openshift.io/deployment-config.latest-version</span>: <span style=color:#f1fa8c>&#34;2&#34;</span>
    <span style=color:#ff79c6>labels</span>:
      <span style=color:#ff79c6>app</span>: eureka-server
    <span style=color:#ff79c6>name</span>: eureka-server-2-asfdd
    <span style=color:#ff79c6>uid</span>: <span style=color:#ff79c6>********</span>
  <span style=color:#ff79c6>spec</span>:
    <span style=color:#6272a4># ...</span>
  <span style=color:#ff79c6>status</span>:
    <span style=color:#6272a4># ...</span>
</code></pre></div><h3 id=label>Label<a href=#label class=anchor aria-hidden=true>#</a></h3><p>apiVersion, kind 和 metadata 是每个资源和对象都拥有的字段，而 metadata 中除了规定了每个对象所独有的 Name 和 UID 外，还声明了对象的 Label，可以作为过滤项帮助我们选择和管理对象。</p><blockquote><p><em>标签（Labels）</em> 是附加到 Kubernetes 对象（比如 Pods）上的键值对。 标签旨在用于指定对用户有意义且相关的对象的标识属性，但不直接对核心系统有语义含义。 标签可以用于组织和选择对象的子集。标签可以在创建时附加到对象，随后可以随时添加和修改。 每个对象都可以定义一组键/值标签。每个键对于给定对象必须是唯一的。</p></blockquote><p>如一个对象的 Label 配置信息如下：</p><div class=highlight><pre style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=color:#ff79c6>kind</span>: Pod 
<span style=color:#ff79c6>metadata</span>: 
  <span style=color:#ff79c6>labels</span>: 
    <span style=color:#ff79c6>key1 </span>: value1,
    <span style=color:#ff79c6>key2 </span>: value2
</code></pre></div><p>我们就可以用命令 <strong>kubectl get pods -l key1=value1,key2=value2</strong> 准确的找到该对象。
给对象设置标签后，还可以在 yaml 文件中定义标签选择器过滤指定的标签。许多资源支持内嵌的标签选择器字段，如 matchLabels 和 matchExpressions。一个常见的使用场景是指定某一 Pod 的节点选择准则，方便节点调度。例如让一个 Pod 选择标签为 accelerator 为"nvidia-tesla-p100"的节点：</p><div class=highlight><pre style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=color:#ff79c6>apiVersion</span>: v1
<span style=color:#ff79c6>kind</span>: Pod
<span style=color:#ff79c6>metadata</span>:
  <span style=color:#ff79c6>name</span>: cuda-test
<span style=color:#ff79c6>spec</span>:
  <span style=color:#ff79c6>containers</span>:
    - <span style=color:#ff79c6>name</span>: cuda-test
      <span style=color:#ff79c6>image</span>: <span style=color:#f1fa8c>&#34;k8s.gcr.io/cuda-vector-add:v0.1&#34;</span>
  <span style=color:#ff79c6>nodeSelector</span>:
    <span style=color:#ff79c6>accelerator</span>: nvidia-tesla-p100
</code></pre></div><p>还可以通过 Selector 指定 Service 指向的一组 Pod，以及 ReplicationController 应该管理的 Pods 的数量等。</p><h3 id=spec-和-status>Spec 和 Status<a href=#spec-和-status class=anchor aria-hidden=true>#</a></h3><ul><li>Spec 规定了对象的期望状态，不同对象的 Spec 几乎完全不同。</li><li>Status 描述了对象的当前状态，是我们观察集群本身的一个接口。</li></ul><blockquote><p>在任何时刻，Kubernetes 都一直积极地管理着对象的实际状态 Status，以使之与期望状态 Spec 相匹配。</p></blockquote><p class=edit-page><a href=https://github.com/koktlzz/koktlzz.github.io/blob/master/content/Kubernetes/Kubernetes%e5%9f%ba%e7%a1%80/Infrastructure.md><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-edit-2"><path d="M17 3a2.828 2.828.0 114 4L7.5 20.5 2 22l1.5-5.5L17 3z"/></svg>Edit this page on GitHub</a></p><div class="docs-navigation d-flex justify-content-between"><a href=https://koktlzz.github.io/kubernetes/kubernetes%E5%9F%BA%E7%A1%80/intro/><div class="card my-1"><div class="card-body py-2">&larr; Getting Started</div></div></a><a class=ms-auto href=https://koktlzz.github.io/kubernetes/kubernetes%E5%9F%BA%E7%A1%80/pod%E4%B8%8Enamespace/><div class="card my-1"><div class="card-body py-2">Pod 与 Namespace &rarr;</div></div></a></div><script src=https://utteranc.es/client.js repo=koktlzz/koktlzz.github.io issue-term=pathname theme=photon-dark crossorigin=anonymous async></script></main><nav class="docs-toc d-none d-xl-block col-lg-3 col-xl-2" aria-label="Secondary navigation"><div class=page-links><h3>On this page</h3><nav id=TableOfContents><ul><li><a href=#架构>架构</a></li><li><a href=#基本特性>基本特性</a></li><li><a href=#组件>组件</a><ul><li><a href=#master-组件>Master 组件</a></li><li><a href=#node-组件>Node 组件</a></li><li><a href=#client-组件>Client 组件</a></li><li><a href=#插件-addons>插件 Addons</a></li></ul></li><li><a href=#资源与对象>资源与对象</a><ul><li><a href=#label>Label</a></li><li><a href=#spec-和-status>Spec 和 Status</a></li></ul></li></ul></nav></div></nav></div></div></div><footer class="footer text-muted"><div class=container><div class=row><div class="col-lg-8 order-last order-lg-first"><ul class=list-inline><li class=list-inline-item></li></ul></div><div class="col-lg-8 order-first order-lg-last text-lg-end"><ul class=list-inline></ul></div></div></div></footer><script src=https://koktlzz.github.io/js/bootstrap.min.d67050adf5d370668aede4201f82af781b16970934804995a1ca37c1ee9222c2fc530972aa6d5d2b6124caf1fe318f139aac99df2c1e89af65504fc1185c7972.js integrity="sha512-1nBQrfXTcGaK7eQgH4KveBsWlwk0gEmVoco3we6SIsL8Uwlyqm1dK2EkyvH+MY8TmqyZ3yweia9lUE/BGFx5cg==" crossorigin=anonymous defer></script><script src=https://koktlzz.github.io/js/vendor/katex/dist/katex.min.b334e5b00c45f572e7f38a543046f36854bf4cbb543880480c09271a0efedc694d6905f719934f6ede2f26f52e80411c05b90121d722cbf8be2fa8fc51bc6b81.js integrity="sha512-szTlsAxF9XLn84pUMEbzaFS/TLtUOIBIDAknGg7+3GlNaQX3GZNPbt4vJvUugEEcBbkBIdciy/i+L6j8UbxrgQ==" crossorigin=anonymous defer></script><script src=https://koktlzz.github.io/js/vendor/katex/dist/contrib/auto-render.min.916823ec103cf367b71e28a6f01513cb9c3ac6708ccb5229402ec46b8e30a8b25003db694df35d80e9dd666a371f327c6152790617b6256390c164109a90bd4c.js integrity="sha512-kWgj7BA882e3Hiim8BUTy5w6xnCMy1IpQC7Ea44wqLJQA9tpTfNdgOndZmo3HzJ8YVJ5Bhe2JWOQwWQQmpC9TA==" crossorigin=anonymous defer></script><script src=https://koktlzz.github.io/main.min.1febbf2f6fd6a36fc2f57dd50d7935fbb640743329baeb4ef7cefcf2e7630e413371fbba976e103656b82808ee227dc4a84237edb0f8433648bef3a56900661a.js integrity="sha512-H+u/L2/Wo2/C9X3VDXk1+7ZAdDMpuutO98788udjDkEzcfu6l24QNla4KAjuIn3EqEI37bD4QzZIvvOlaQBmGg==" crossorigin=anonymous defer></script></body></html>